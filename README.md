# MAGISYSTEM - Minecraft統合版工業化MOD

## 概要
MAGISYSTEMは、Minecraft統合版（Bedrock Edition）向けの工業化ビヘイビアパックです。エネルギーシステム（MF: MegaFlux単位）とアイテム輸送システムを中心に、発電機、電気炉、ケーブル、パイプなどの工業要素を実装しています。

## 動作環境
- Minecraft統合版 1.21.59以降
- Script API 有効化済み

## インストール方法
1. ビヘイビアパックフォルダに本パックを配置
2. ワールド設定でビヘイビアパックを有効化（リソースパックは自動適用）
3. 実験的機能「Script API」を有効化

## 主な機能

### エネルギーシステム（MF単位）
- **熱発電機** - 燃料を消費して40 MF/秒を生成
- **電気炉** - 2 MF/tickの電力で高速精錬（バニラの1.5倍速）
- **バッテリー** - エネルギーを保存（小型5,000、中型10,000、大型20,000 MF）
- **エネルギーケーブル** - ブロック間でエネルギーを転送
  - 通常ケーブル（青）- 双方向転送
  - 入力ケーブル（緑）- エネルギー受取専用
  - 出力ケーブル（赤）- エネルギー送出専用

### アイテム輸送システム
- **アイテムパイプ** - インベントリ間でアイテムを自動輸送
  - 通常パイプ（青）- 双方向転送
  - 入力パイプ（緑）- インベントリへの入力専用
  - 出力パイプ（赤）- インベントリからの出力専用
- 1秒に1個のアイテムを輸送
- 複数の輸送先がある場合は均等分配

### ツール
- **レンチ** - 右クリックでケーブル/パイプのモードを切り替え
  - 通常→入力→出力→通常のサイクル
  - モード変換後も正常に動作

### その他の機能
- **自動情報表示** - ブロックを見ると詳細情報を自動表示
- **データ永続化** - ワールド再読み込み後もデータを保持
- **リソースパック自動適用** - ビヘイビアパック適用時に自動で適用

## 使い方

### 基本的な接続方法

#### エネルギーシステム
```
発電機 → 出力ケーブル（赤） → 通常ケーブル（青） → 入力ケーブル（緑） → バッテリー/機械
```

#### アイテム輸送
```
チェスト → 出力パイプ（赤） → 通常パイプ（青） → 入力パイプ（緑） → かまど
```

### 熱発電機の使い方
1. 熱発電機を設置
2. 上にチェストやホッパーを設置（燃料供給用）
3. 横に出力ケーブル（赤）を接続
4. エネルギーネットワークに接続

### 電気炉の使い方
1. 電気炉を設置
2. 横に入力ケーブル（緑）を接続してエネルギー供給
3. アイテムパイプで材料の入出力を自動化可能
4. 2 MF/tickで精錬（40 MF/秒）

### レンチの使い方
1. レンチを手に持つ
2. ケーブルまたはパイプを右クリック
3. モードが切り替わります（メッセージ表示）

## 対応ブロック

### インベントリブロック（アイテム輸送対応）
- チェスト、トラップチェスト、エンダーチェスト
- かまど、溶鉱炉、燻製器
- ホッパー、ドロッパー、ディスペンサー
- 樽、シュルカーボックス（全色対応）
- 熱発電機（燃料のみ受け入れ）
- 電気炉（精錬可能アイテムの入出力）

### 接続ルール
- **専用ケーブル/パイプ同士も接続可能** - 入力同士、出力同士、入力-出力間も接続できます
- **機械への直接接続には専用ケーブル/パイプが必要** - 通常タイプでは機械に接続できません

## クラフトレシピ

### レンチ
```
  I
  I
 I 
```
- I: 鉄インゴット

### 熱発電機
```
CCC
CFC
IRI
```
- C: 銅インゴット
- F: かまど
- I: 鉄インゴット
- R: レッドストーンブロック

### 電気炉
```
ICI
CFC
IRI
```
- I: 鉄インゴット
- C: 銅インゴット
- F: かまど
- R: レッドストーンブロック

### エネルギーケーブル（8個）
```
GGG
CRC
GGG
```
- G: ガラス
- C: 銅インゴット
- R: レッドストーン

### アイテムパイプ（8個）
```
III
G G
III
```
- I: 鉄インゴット
- G: ガラス

## 技術仕様
- Script API使用（@minecraft/server v1.19.0）
- エネルギー単位：MF（MegaFlux）
- エネルギー更新：20tick（1秒）ごと
- アイテム輸送：20tick（1秒）ごと
- 最大探索距離：エネルギー90ブロック、アイテム50ブロック

## 既知の問題
- UIのnine_slice_boxエラー（動作には影響なし）
- ブロック情報表示は0.2秒ごとの更新

## 今後の予定
- 追加の機械（粉砕機、圧縮機など）
- 高度なエネルギー管理
- 無線エネルギー/アイテム転送