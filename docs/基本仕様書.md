# MAGISYSTEM 基本仕様書

## 1. システム概要

MAGISYSTEMは、Minecraft統合版向けの魔法システムMODです。4属性の魔力を使用して魔法陣を構築し、様々な効果を発動できる包括的な魔術システムを提供します。

### 1.1 コアコンセプト

- **4属性の魔力システム**: 火・水・空・土の4つの基本属性
- **魔法陣による効果発動**: 円形のブロックパターンで魔法を構築
- **魔力の獲得と管理**: 行動や研究による魔力の蓄積
- **段階的な成長要素**: 基本から究極まで4段階の装備・設備

### 1.2 対応バージョン

- Minecraft統合版 1.21.59以降
- Script API v1.18.0使用

## 2. 基本用語定義

### 2.1 属性（Element）

| 属性名 | 英語名 | 記号 | 色 | 主な効果 |
|--------|--------|------|-----|----------|
| 火 | Fire | F | 赤 | 燃焼、高温、精錬 |
| 水 | Water | W | 青 | 凍結、流動、浄化 |
| 空 | Air | A | 緑 | 風圧、浮遊、分離 |
| 土 | Earth | E | 橙 | 物理、圧縮、成形 |

### 2.2 複合属性（Compound Element）

#### 2属性複合
| 組み合わせ | 複合属性名 | 主な効果 |
|------------|-----------|----------|
| 水+空 | 雷 | 電撃、電力生成 |
| 水+土 | 生命 | 回復、成長促進 |
| 火+土 | 溶岩 | 高温溶融、金属精錬 |
| 火+空 | 陽炎 | 熱風、乾燥効果 |
| 火+水 | 爆発 | 爆発圧縮、粉砕 |
| 空+土 | 研磨 | 研磨加工、精密処理 |

#### 3属性複合
| 組み合わせ | 複合属性名 | 主な効果 |
|------------|-----------|----------|
| 火+水+空 | 嵐 | 気象制御、大規模電力生成 |
| 火+水+土 | 治癒 | 強力回復、錬金術的変換 |
| 火+空+土 | 焦熱 | 極限温度、次元変換 |
| 水+空+土 | 繁茂 | 生態系制御、超成長 |

#### 4属性複合
| 組み合わせ | 複合属性名 | 主な効果 |
|------------|-----------|----------|
| 火+水+空+土 | 奈落 | 現実改変、空間操作 |

### 2.3 魔法陣構成要素

#### シンボルブロック
| シンボル名 | 記号 | 機能 | 魔力消費 |
|-----------|------|------|----------|
| 始点 | 始 | 魔法陣の起動点 | 0 |
| 基礎 | 基 | 構造の安定化 | 0 |
| 火/水/空/土 | 各属性記号 | 属性効果の付与 | 各×1 |
| 連結 | 連 | 魔法陣間の接続 | 0 |
| 強化 | 強 | 効果を1.5倍に増幅 | ×1（対象属性） |

#### モードシンボル
| モード名 | 記号 | 機能 | 魔力消費 |
|----------|------|------|----------|
| 発現 | 発 | 魔力を効果に変換 | 使用属性各×1 |
| 加工 | 工 | アイテムを別のアイテムに変換 | 使用属性各×1 |
| 分解 | 分 | アイテムを魔力に変換 | 使用属性各×1 |

### 2.4 魔法陣の規模

| 構成 | サイズ | ブロック数 | 魔力倍率 | 対応基盤レベル |
|------|--------|-----------|----------|----------------|
| 単層 | 5×5 | 12 | ×1 | Lv.1以上 |
| 二重 | 11×11 | 36 | ×3 | Lv.2以上 |
| 三重 | 17×17 | 72 | ×6 | Lv.3以上 |
| 四重 | 23×23 | 120 | ×10 | Lv.4 |

## 3. 魔力システム

### 3.1 魔力の基本仕様

- **基本容量**: 100ポイント（全属性合計）
- **保存方法**: プレイヤーのダイナミックプロパティに永続保存
- **属性固定**: 獲得した魔力は該当属性に固定（変換不可）

### 3.2 魔力獲得方法

#### 行動による獲得
| 行動 | 獲得魔力 |
|------|----------|
| かまど精錬 | 火×2、土×1 |
| 水中移動 | 水×1/秒 |
| エリトラ飛行 | 空×2/秒、火×0.5/秒 |
| ブロック採掘 | 土×1、火×0.2 |
| 農作物収穫 | 土×5、水×2 |
| 骨粉使用 | 土×3、水×5、空×2 |

#### 研究テーブルによる変換（効率10%）
- アイテムを消費して対応する属性の魔力に変換
- 変換効率は魔法陣の複合度により向上（単一10%→奈落80%）

### 3.3 魔力消費量の表記

- 統一表記: `属性名×数値`（例：火×12、水×8）
- 魔法陣サイズによる倍率が適用される

## 4. 装備・設備の段階

### 4.1 段階システム

全ての装備・設備は以下の4段階で構成されます：

| 段階 | 名称 | 主要素材 | 特徴 |
|------|------|----------|------|
| 1 | 基本 | ミスリル | 入門レベル、基本機能 |
| 2 | 発展 | オリハルコン | 中級レベル、効率向上 |
| 3 | 精製 | アダマンタイト | 上級レベル、高性能 |
| 4 | 究極 | ヒヒイロカネ | 最高レベル、最大効率 |

### 4.2 主要設備

- **魔法基盤ブロック**: 使用可能な属性組み合わせを決定
- **魔力蓄積機**: 属性別に魔力を大量貯蔵
- **魔法出力装置**: 自動的に魔法陣を起動
- **魔法陣解析装置**: 魔法陣をデータカード化

## 5. 操作方法

### 5.1 魔法陣の起動方法

| 方法 | 魔力効率 | 特徴 |
|------|----------|------|
| 直接起動（素手） | 100% | シンプル、ブロック消費 |
| ワンド | 80%（20%削減） | 携帯性、充電必要 |
| 魔法出力装置 | 80%（20%削減） | 自動化、電力必要 |

### 5.2 基本操作

- **チョーク使用**: 右クリックでGUI開き、シンボル選択後に設置
- **魔力蓄積機**: 右クリックで引き出し、Shift+右クリックで預入（各10魔力）
- **ワンド切替**: Shift+右クリックで登録魔法陣を切替

## 6. 数値仕様

### 6.1 魔力消費計算

```
総消費 = (基本消費 + 属性シンボル数) × サイズ倍率
```

### 6.2 効果計算

```
ダメージ = 属性数 × 0.75 × 複合ボーナス
```

複合ボーナス：
- 単一属性: 1.0倍
- 2属性複合: 1.25倍
- 3属性複合: 1.5倍
- 4属性複合: 2.0倍

### 6.3 強化効果

```
効果倍率 = 1 + (強化シンボル数 × 0.5)
```
最大3.5倍（強化シンボル5個まで）

## 7. 注意事項

- 魔力不足時も魔法陣は起動するが、効果は発動しない
- 同一魔法陣の連続使用には5秒のクールダウン
- 複合属性の使用には対応レベルの魔法基盤ブロックが必要
- シンボルブロックは破壊時にドロップしない